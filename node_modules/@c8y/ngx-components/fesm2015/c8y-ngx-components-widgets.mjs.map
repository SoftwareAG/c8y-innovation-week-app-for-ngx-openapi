{"version":3,"file":"c8y-ngx-components-widgets.mjs","sources":["../../widgets/widgets.module.ts","../../widgets/c8y-ngx-components-widgets.ts"],"sourcesContent":["import { ModuleWithProviders, NgModule, Provider } from '@angular/core';\nimport { DynamicComponentDefinition, hookComponent } from '@c8y/ngx-components';\nimport type { DefaultWidgetIdValues } from '@c8y/ngx-components/widgets/definitions';\n\n/**\n * Module with providers for the given widgets.\n * Does not include any widgets by default.\n * Import this modules by using the `WidgetsModule.config` function.\n */\n@NgModule()\nexport class WidgetsModule {\n  static config(config: {\n    widgets: DynamicComponentDefinition[];\n    excludeList?: DefaultWidgetIdValues[];\n  }): ModuleWithProviders<WidgetsModule> {\n    return {\n      ngModule: WidgetsModule,\n      providers: this.providers(config)\n    };\n  }\n\n  static providers(config: {\n    widgets: DynamicComponentDefinition[];\n    excludeList?: DefaultWidgetIdValues[];\n  }): Provider[] {\n    const filteredWidgets = this.excludeById(config.widgets, config.excludeList || []);\n    return [hookComponent(filteredWidgets)];\n  }\n\n  private static excludeById(\n    widgetDefinitions: DynamicComponentDefinition[],\n    excludeList: DefaultWidgetIdValues[]\n  ): DynamicComponentDefinition[] {\n    return widgetDefinitions.filter(\n      widgetDefinition => !excludeList.includes(widgetDefinition.id as DefaultWidgetIdValues)\n    );\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":";;;;AAIA;;;;AAIG;MAEU,aAAa,CAAA;IACxB,OAAO,MAAM,CAAC,MAGb,EAAA;QACC,OAAO;AACL,YAAA,QAAQ,EAAE,aAAa;AACvB,YAAA,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;SAClC,CAAC;KACH;IAED,OAAO,SAAS,CAAC,MAGhB,EAAA;AACC,QAAA,MAAM,eAAe,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC,WAAW,IAAI,EAAE,CAAC,CAAC;AACnF,QAAA,OAAO,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC,CAAC;KACzC;AAEO,IAAA,OAAO,WAAW,CACxB,iBAA+C,EAC/C,WAAoC,EAAA;AAEpC,QAAA,OAAO,iBAAiB,CAAC,MAAM,CAC7B,gBAAgB,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,gBAAgB,CAAC,EAA2B,CAAC,CACxF,CAAC;KACH;;0GA1BU,aAAa,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,QAAA,EAAA,CAAA,CAAA;2GAAb,aAAa,EAAA,CAAA,CAAA;2GAAb,aAAa,EAAA,CAAA,CAAA;2FAAb,aAAa,EAAA,UAAA,EAAA,CAAA;kBADzB,QAAQ;;;ACTT;;AAEG;;;;"}
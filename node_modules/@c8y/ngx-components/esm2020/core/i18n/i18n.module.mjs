import { HttpClient, HttpClientModule } from '@angular/common/http';
import { LOCALE_ID, NgModule } from '@angular/core';
import { MissingTranslationHandler, TranslateService as NgxTranslateService, TranslateCompiler, TranslateFakeCompiler, TranslateLoader, TranslateParser, TranslateStore, USE_DEFAULT_LANG, USE_STORE, USE_EXTEND, DEFAULT_LANGUAGE } from '@ngx-translate/core';
import { OptionsService } from '../common/options.service';
import { AppStateService } from '../common/ui-state.service';
import { LANGUAGES } from './languages';
import { LOCALE_PATH } from './locale.path';
import { MissingTranslationCustomHandler } from './missing-translation-custom.handler';
import { MESSAGES } from './pattern-messages.data';
import { hookPatternMessages } from './patterns-message.hook';
import { TranslateCustomLoader } from './translate.loader';
import { TranslateParserCustom } from './translate.parser';
import { C8yTranslateModule } from './c8y-translate.module';
import { CachedLocaleDictionaryService } from './cached-locale-dictionary.service';
import { BsDatepickerModule } from 'ngx-bootstrap/datepicker';
import * as i0 from "@angular/core";
/**
 * The @angular/common/locales folder in node_modules contains files with names created based on RFC 3066bis.
 * https://www.w3.org/International/articles/bcp47/
 */
const angularLocalesLanguageMap = {
    en: 'en-GB',
    'en-EN': 'en-GB',
    'en-US': 'en',
    'ja-JP': 'ja',
    'zh-CN': 'zh',
    'zh-TW': 'zh',
    'pt-BR': 'pt'
};
// AoT requires an exported function for factories
export function translateLoaderFactory(httpClient, optionsService, cachedLocaleDictionaryService, localePath, languages) {
    return new TranslateCustomLoader(httpClient, optionsService, cachedLocaleDictionaryService, localePath, languages);
}
export function localePathFactory(options) {
    return options.localePath;
}
export function languagesFactory(options) {
    return options.languages;
}
export function localeId(appStateService) {
    return {
        get lang() {
            return getAngularLocalesLanguageString(appStateService.state.lang);
        },
        toLowerCase() {
            return this.lang.toLowerCase();
        },
        toString() {
            return this.lang;
        }
    };
}
export function getAngularLocalesLanguageString(language = 'en') {
    return angularLocalesLanguageMap[language] || language;
}
/**
 * The angular module definition for i18n (translation).
 * @exports I18nModule
 */
export class I18nModule {
    static providers() {
        return [
            { provide: LOCALE_ID, useFactory: localeId, deps: [AppStateService] },
            hookPatternMessages(MESSAGES),
            { provide: LOCALE_PATH, useFactory: localePathFactory, deps: [OptionsService] },
            { provide: LANGUAGES, useFactory: languagesFactory, deps: [OptionsService] },
            // Extracted from projects/ngx-translate/core/src/public_api.ts
            {
                provide: TranslateLoader,
                useFactory: translateLoaderFactory,
                deps: [HttpClient, OptionsService, CachedLocaleDictionaryService, LOCALE_PATH, LANGUAGES]
            },
            { provide: TranslateCompiler, useClass: TranslateFakeCompiler },
            { provide: TranslateParser, useClass: TranslateParserCustom },
            { provide: MissingTranslationHandler, useClass: MissingTranslationCustomHandler },
            TranslateStore,
            NgxTranslateService,
            { provide: USE_STORE, useValue: undefined },
            { provide: USE_DEFAULT_LANG, useValue: undefined },
            { provide: USE_EXTEND, useValue: false },
            { provide: DEFAULT_LANGUAGE, useValue: undefined }
        ];
    }
    static forRoot() {
        return {
            ngModule: I18nModule,
            providers: I18nModule.providers()
        };
    }
}
I18nModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.7", ngImport: i0, type: I18nModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });
I18nModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: "14.0.0", version: "15.2.7", ngImport: i0, type: I18nModule, imports: [HttpClientModule, BsDatepickerModule], exports: [C8yTranslateModule] });
I18nModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: "12.0.0", version: "15.2.7", ngImport: i0, type: I18nModule, imports: [HttpClientModule, BsDatepickerModule, C8yTranslateModule] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.7", ngImport: i0, type: I18nModule, decorators: [{
            type: NgModule,
            args: [{
                    exports: [C8yTranslateModule],
                    imports: [HttpClientModule, BsDatepickerModule]
                }]
        }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaTE4bi5tb2R1bGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9jb3JlL2kxOG4vaTE4bi5tb2R1bGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ3BFLE9BQU8sRUFBRSxTQUFTLEVBQXVCLFFBQVEsRUFBWSxNQUFNLGVBQWUsQ0FBQztBQUNuRixPQUFPLEVBQ0wseUJBQXlCLEVBQ3pCLGdCQUFnQixJQUFJLG1CQUFtQixFQUN2QyxpQkFBaUIsRUFDakIscUJBQXFCLEVBQ3JCLGVBQWUsRUFDZixlQUFlLEVBQ2YsY0FBYyxFQUNkLGdCQUFnQixFQUNoQixTQUFTLEVBQ1QsVUFBVSxFQUNWLGdCQUFnQixFQUNqQixNQUFNLHFCQUFxQixDQUFDO0FBQzdCLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUMzRCxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFDN0QsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUN4QyxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzVDLE9BQU8sRUFBRSwrQkFBK0IsRUFBRSxNQUFNLHNDQUFzQyxDQUFDO0FBQ3ZGLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUNuRCxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUM5RCxPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUMzRCxPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUMzRCxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUM1RCxPQUFPLEVBQUUsNkJBQTZCLEVBQUUsTUFBTSxvQ0FBb0MsQ0FBQztBQUNuRixPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQzs7QUFFOUQ7OztHQUdHO0FBQ0gsTUFBTSx5QkFBeUIsR0FBRztJQUNoQyxFQUFFLEVBQUUsT0FBTztJQUNYLE9BQU8sRUFBRSxPQUFPO0lBQ2hCLE9BQU8sRUFBRSxJQUFJO0lBQ2IsT0FBTyxFQUFFLElBQUk7SUFDYixPQUFPLEVBQUUsSUFBSTtJQUNiLE9BQU8sRUFBRSxJQUFJO0lBQ2IsT0FBTyxFQUFFLElBQUk7Q0FDZCxDQUFDO0FBRUYsa0RBQWtEO0FBQ2xELE1BQU0sVUFBVSxzQkFBc0IsQ0FDcEMsVUFBc0IsRUFDdEIsY0FBOEIsRUFDOUIsNkJBQTRELEVBQzVELFVBQWtCLEVBQ2xCLFNBQWM7SUFFZCxPQUFPLElBQUkscUJBQXFCLENBQzlCLFVBQVUsRUFDVixjQUFjLEVBQ2QsNkJBQTZCLEVBQzdCLFVBQVUsRUFDVixTQUFTLENBQ1YsQ0FBQztBQUNKLENBQUM7QUFFRCxNQUFNLFVBQVUsaUJBQWlCLENBQUMsT0FBdUI7SUFDdkQsT0FBTyxPQUFPLENBQUMsVUFBVSxDQUFDO0FBQzVCLENBQUM7QUFFRCxNQUFNLFVBQVUsZ0JBQWdCLENBQUMsT0FBdUI7SUFDdEQsT0FBTyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQzNCLENBQUM7QUFFRCxNQUFNLFVBQVUsUUFBUSxDQUFDLGVBQWdDO0lBQ3ZELE9BQU87UUFDTCxJQUFJLElBQUk7WUFDTixPQUFPLCtCQUErQixDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDckUsQ0FBQztRQUNELFdBQVc7WUFDVCxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDakMsQ0FBQztRQUNELFFBQVE7WUFDTixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUM7UUFDbkIsQ0FBQztLQUNGLENBQUM7QUFDSixDQUFDO0FBRUQsTUFBTSxVQUFVLCtCQUErQixDQUFDLFFBQVEsR0FBRyxJQUFJO0lBQzdELE9BQU8seUJBQXlCLENBQUMsUUFBUSxDQUFDLElBQUksUUFBUSxDQUFDO0FBQ3pELENBQUM7QUFFRDs7O0dBR0c7QUFLSCxNQUFNLE9BQU8sVUFBVTtJQUNyQixNQUFNLENBQUMsU0FBUztRQUNkLE9BQU87WUFDTCxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsQ0FBQyxlQUFlLENBQUMsRUFBRTtZQUNyRSxtQkFBbUIsQ0FBQyxRQUFRLENBQUM7WUFDN0IsRUFBRSxPQUFPLEVBQUUsV0FBVyxFQUFFLFVBQVUsRUFBRSxpQkFBaUIsRUFBRSxJQUFJLEVBQUUsQ0FBQyxjQUFjLENBQUMsRUFBRTtZQUMvRSxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLGdCQUFnQixFQUFFLElBQUksRUFBRSxDQUFDLGNBQWMsQ0FBQyxFQUFFO1lBRTVFLCtEQUErRDtZQUMvRDtnQkFDRSxPQUFPLEVBQUUsZUFBZTtnQkFDeEIsVUFBVSxFQUFFLHNCQUFzQjtnQkFDbEMsSUFBSSxFQUFFLENBQUMsVUFBVSxFQUFFLGNBQWMsRUFBRSw2QkFBNkIsRUFBRSxXQUFXLEVBQUUsU0FBUyxDQUFDO2FBQzFGO1lBQ0QsRUFBRSxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsUUFBUSxFQUFFLHFCQUFxQixFQUFFO1lBQy9ELEVBQUUsT0FBTyxFQUFFLGVBQWUsRUFBRSxRQUFRLEVBQUUscUJBQXFCLEVBQUU7WUFDN0QsRUFBRSxPQUFPLEVBQUUseUJBQXlCLEVBQUUsUUFBUSxFQUFFLCtCQUErQixFQUFFO1lBQ2pGLGNBQWM7WUFDZCxtQkFBbUI7WUFDbkIsRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUU7WUFDM0MsRUFBRSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRTtZQUNsRCxFQUFFLE9BQU8sRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRTtZQUN4QyxFQUFFLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxRQUFRLEVBQUUsU0FBUyxFQUFFO1NBQ25ELENBQUM7SUFDSixDQUFDO0lBQ0QsTUFBTSxDQUFDLE9BQU87UUFDWixPQUFPO1lBQ0wsUUFBUSxFQUFFLFVBQVU7WUFDcEIsU0FBUyxFQUFFLFVBQVUsQ0FBQyxTQUFTLEVBQUU7U0FDbEMsQ0FBQztJQUNKLENBQUM7O3VHQTlCVSxVQUFVO3dHQUFWLFVBQVUsWUFGWCxnQkFBZ0IsRUFBRSxrQkFBa0IsYUFEcEMsa0JBQWtCO3dHQUdqQixVQUFVLFlBRlgsZ0JBQWdCLEVBQUUsa0JBQWtCLEVBRHBDLGtCQUFrQjsyRkFHakIsVUFBVTtrQkFKdEIsUUFBUTttQkFBQztvQkFDUixPQUFPLEVBQUUsQ0FBQyxrQkFBa0IsQ0FBQztvQkFDN0IsT0FBTyxFQUFFLENBQUMsZ0JBQWdCLEVBQUUsa0JBQWtCLENBQUM7aUJBQ2hEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSHR0cENsaWVudCwgSHR0cENsaWVudE1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7IExPQ0FMRV9JRCwgTW9kdWxlV2l0aFByb3ZpZGVycywgTmdNb2R1bGUsIFByb3ZpZGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1xuICBNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyLFxuICBUcmFuc2xhdGVTZXJ2aWNlIGFzIE5neFRyYW5zbGF0ZVNlcnZpY2UsXG4gIFRyYW5zbGF0ZUNvbXBpbGVyLFxuICBUcmFuc2xhdGVGYWtlQ29tcGlsZXIsXG4gIFRyYW5zbGF0ZUxvYWRlcixcbiAgVHJhbnNsYXRlUGFyc2VyLFxuICBUcmFuc2xhdGVTdG9yZSxcbiAgVVNFX0RFRkFVTFRfTEFORyxcbiAgVVNFX1NUT1JFLFxuICBVU0VfRVhURU5ELFxuICBERUZBVUxUX0xBTkdVQUdFXG59IGZyb20gJ0BuZ3gtdHJhbnNsYXRlL2NvcmUnO1xuaW1wb3J0IHsgT3B0aW9uc1NlcnZpY2UgfSBmcm9tICcuLi9jb21tb24vb3B0aW9ucy5zZXJ2aWNlJztcbmltcG9ydCB7IEFwcFN0YXRlU2VydmljZSB9IGZyb20gJy4uL2NvbW1vbi91aS1zdGF0ZS5zZXJ2aWNlJztcbmltcG9ydCB7IExBTkdVQUdFUyB9IGZyb20gJy4vbGFuZ3VhZ2VzJztcbmltcG9ydCB7IExPQ0FMRV9QQVRIIH0gZnJvbSAnLi9sb2NhbGUucGF0aCc7XG5pbXBvcnQgeyBNaXNzaW5nVHJhbnNsYXRpb25DdXN0b21IYW5kbGVyIH0gZnJvbSAnLi9taXNzaW5nLXRyYW5zbGF0aW9uLWN1c3RvbS5oYW5kbGVyJztcbmltcG9ydCB7IE1FU1NBR0VTIH0gZnJvbSAnLi9wYXR0ZXJuLW1lc3NhZ2VzLmRhdGEnO1xuaW1wb3J0IHsgaG9va1BhdHRlcm5NZXNzYWdlcyB9IGZyb20gJy4vcGF0dGVybnMtbWVzc2FnZS5ob29rJztcbmltcG9ydCB7IFRyYW5zbGF0ZUN1c3RvbUxvYWRlciB9IGZyb20gJy4vdHJhbnNsYXRlLmxvYWRlcic7XG5pbXBvcnQgeyBUcmFuc2xhdGVQYXJzZXJDdXN0b20gfSBmcm9tICcuL3RyYW5zbGF0ZS5wYXJzZXInO1xuaW1wb3J0IHsgQzh5VHJhbnNsYXRlTW9kdWxlIH0gZnJvbSAnLi9jOHktdHJhbnNsYXRlLm1vZHVsZSc7XG5pbXBvcnQgeyBDYWNoZWRMb2NhbGVEaWN0aW9uYXJ5U2VydmljZSB9IGZyb20gJy4vY2FjaGVkLWxvY2FsZS1kaWN0aW9uYXJ5LnNlcnZpY2UnO1xuaW1wb3J0IHsgQnNEYXRlcGlja2VyTW9kdWxlIH0gZnJvbSAnbmd4LWJvb3RzdHJhcC9kYXRlcGlja2VyJztcblxuLyoqXG4gKiBUaGUgQGFuZ3VsYXIvY29tbW9uL2xvY2FsZXMgZm9sZGVyIGluIG5vZGVfbW9kdWxlcyBjb250YWlucyBmaWxlcyB3aXRoIG5hbWVzIGNyZWF0ZWQgYmFzZWQgb24gUkZDIDMwNjZiaXMuXG4gKiBodHRwczovL3d3dy53My5vcmcvSW50ZXJuYXRpb25hbC9hcnRpY2xlcy9iY3A0Ny9cbiAqL1xuY29uc3QgYW5ndWxhckxvY2FsZXNMYW5ndWFnZU1hcCA9IHtcbiAgZW46ICdlbi1HQicsXG4gICdlbi1FTic6ICdlbi1HQicsXG4gICdlbi1VUyc6ICdlbicsXG4gICdqYS1KUCc6ICdqYScsXG4gICd6aC1DTic6ICd6aCcsXG4gICd6aC1UVyc6ICd6aCcsXG4gICdwdC1CUic6ICdwdCdcbn07XG5cbi8vIEFvVCByZXF1aXJlcyBhbiBleHBvcnRlZCBmdW5jdGlvbiBmb3IgZmFjdG9yaWVzXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNsYXRlTG9hZGVyRmFjdG9yeShcbiAgaHR0cENsaWVudDogSHR0cENsaWVudCxcbiAgb3B0aW9uc1NlcnZpY2U6IE9wdGlvbnNTZXJ2aWNlLFxuICBjYWNoZWRMb2NhbGVEaWN0aW9uYXJ5U2VydmljZTogQ2FjaGVkTG9jYWxlRGljdGlvbmFyeVNlcnZpY2UsXG4gIGxvY2FsZVBhdGg6IHN0cmluZyxcbiAgbGFuZ3VhZ2VzOiBhbnlcbikge1xuICByZXR1cm4gbmV3IFRyYW5zbGF0ZUN1c3RvbUxvYWRlcihcbiAgICBodHRwQ2xpZW50LFxuICAgIG9wdGlvbnNTZXJ2aWNlLFxuICAgIGNhY2hlZExvY2FsZURpY3Rpb25hcnlTZXJ2aWNlLFxuICAgIGxvY2FsZVBhdGgsXG4gICAgbGFuZ3VhZ2VzXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2NhbGVQYXRoRmFjdG9yeShvcHRpb25zOiBPcHRpb25zU2VydmljZSkge1xuICByZXR1cm4gb3B0aW9ucy5sb2NhbGVQYXRoO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGFuZ3VhZ2VzRmFjdG9yeShvcHRpb25zOiBPcHRpb25zU2VydmljZSkge1xuICByZXR1cm4gb3B0aW9ucy5sYW5ndWFnZXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2NhbGVJZChhcHBTdGF0ZVNlcnZpY2U6IEFwcFN0YXRlU2VydmljZSkge1xuICByZXR1cm4ge1xuICAgIGdldCBsYW5nKCkge1xuICAgICAgcmV0dXJuIGdldEFuZ3VsYXJMb2NhbGVzTGFuZ3VhZ2VTdHJpbmcoYXBwU3RhdGVTZXJ2aWNlLnN0YXRlLmxhbmcpO1xuICAgIH0sXG4gICAgdG9Mb3dlckNhc2UoKSB7XG4gICAgICByZXR1cm4gdGhpcy5sYW5nLnRvTG93ZXJDYXNlKCk7XG4gICAgfSxcbiAgICB0b1N0cmluZygpIHtcbiAgICAgIHJldHVybiB0aGlzLmxhbmc7XG4gICAgfVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QW5ndWxhckxvY2FsZXNMYW5ndWFnZVN0cmluZyhsYW5ndWFnZSA9ICdlbicpIHtcbiAgcmV0dXJuIGFuZ3VsYXJMb2NhbGVzTGFuZ3VhZ2VNYXBbbGFuZ3VhZ2VdIHx8IGxhbmd1YWdlO1xufVxuXG4vKipcbiAqIFRoZSBhbmd1bGFyIG1vZHVsZSBkZWZpbml0aW9uIGZvciBpMThuICh0cmFuc2xhdGlvbikuXG4gKiBAZXhwb3J0cyBJMThuTW9kdWxlXG4gKi9cbkBOZ01vZHVsZSh7XG4gIGV4cG9ydHM6IFtDOHlUcmFuc2xhdGVNb2R1bGVdLCAvLyBXZSBleHBvcnQgY3VzdG9tIHRyYW5zbGF0aW9uIG1vZHVsZSB0aGF0IGV4dGVuZHMgbmd4LXRyYW5zbGF0ZVxuICBpbXBvcnRzOiBbSHR0cENsaWVudE1vZHVsZSwgQnNEYXRlcGlja2VyTW9kdWxlXVxufSlcbmV4cG9ydCBjbGFzcyBJMThuTW9kdWxlIHtcbiAgc3RhdGljIHByb3ZpZGVycygpOiBQcm92aWRlcltdIHtcbiAgICByZXR1cm4gW1xuICAgICAgeyBwcm92aWRlOiBMT0NBTEVfSUQsIHVzZUZhY3Rvcnk6IGxvY2FsZUlkLCBkZXBzOiBbQXBwU3RhdGVTZXJ2aWNlXSB9LFxuICAgICAgaG9va1BhdHRlcm5NZXNzYWdlcyhNRVNTQUdFUyksXG4gICAgICB7IHByb3ZpZGU6IExPQ0FMRV9QQVRILCB1c2VGYWN0b3J5OiBsb2NhbGVQYXRoRmFjdG9yeSwgZGVwczogW09wdGlvbnNTZXJ2aWNlXSB9LFxuICAgICAgeyBwcm92aWRlOiBMQU5HVUFHRVMsIHVzZUZhY3Rvcnk6IGxhbmd1YWdlc0ZhY3RvcnksIGRlcHM6IFtPcHRpb25zU2VydmljZV0gfSxcblxuICAgICAgLy8gRXh0cmFjdGVkIGZyb20gcHJvamVjdHMvbmd4LXRyYW5zbGF0ZS9jb3JlL3NyYy9wdWJsaWNfYXBpLnRzXG4gICAgICB7XG4gICAgICAgIHByb3ZpZGU6IFRyYW5zbGF0ZUxvYWRlcixcbiAgICAgICAgdXNlRmFjdG9yeTogdHJhbnNsYXRlTG9hZGVyRmFjdG9yeSxcbiAgICAgICAgZGVwczogW0h0dHBDbGllbnQsIE9wdGlvbnNTZXJ2aWNlLCBDYWNoZWRMb2NhbGVEaWN0aW9uYXJ5U2VydmljZSwgTE9DQUxFX1BBVEgsIExBTkdVQUdFU11cbiAgICAgIH0sXG4gICAgICB7IHByb3ZpZGU6IFRyYW5zbGF0ZUNvbXBpbGVyLCB1c2VDbGFzczogVHJhbnNsYXRlRmFrZUNvbXBpbGVyIH0sXG4gICAgICB7IHByb3ZpZGU6IFRyYW5zbGF0ZVBhcnNlciwgdXNlQ2xhc3M6IFRyYW5zbGF0ZVBhcnNlckN1c3RvbSB9LFxuICAgICAgeyBwcm92aWRlOiBNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyLCB1c2VDbGFzczogTWlzc2luZ1RyYW5zbGF0aW9uQ3VzdG9tSGFuZGxlciB9LFxuICAgICAgVHJhbnNsYXRlU3RvcmUsXG4gICAgICBOZ3hUcmFuc2xhdGVTZXJ2aWNlLFxuICAgICAgeyBwcm92aWRlOiBVU0VfU1RPUkUsIHVzZVZhbHVlOiB1bmRlZmluZWQgfSxcbiAgICAgIHsgcHJvdmlkZTogVVNFX0RFRkFVTFRfTEFORywgdXNlVmFsdWU6IHVuZGVmaW5lZCB9LFxuICAgICAgeyBwcm92aWRlOiBVU0VfRVhURU5ELCB1c2VWYWx1ZTogZmFsc2UgfSxcbiAgICAgIHsgcHJvdmlkZTogREVGQVVMVF9MQU5HVUFHRSwgdXNlVmFsdWU6IHVuZGVmaW5lZCB9XG4gICAgXTtcbiAgfVxuICBzdGF0aWMgZm9yUm9vdCgpOiBNb2R1bGVXaXRoUHJvdmlkZXJzPEkxOG5Nb2R1bGU+IHtcbiAgICByZXR1cm4ge1xuICAgICAgbmdNb2R1bGU6IEkxOG5Nb2R1bGUsXG4gICAgICBwcm92aWRlcnM6IEkxOG5Nb2R1bGUucHJvdmlkZXJzKClcbiAgICB9O1xuICB9XG59XG4iXX0=
import { Injectable } from '@angular/core';
import { TenantUiService, Permissions } from '@c8y/ngx-components';
import { Lwm2mClientService } from '@c8y/ngx-components/protocol-lwm2m/services';
import { Lwm2mBaseGuard } from './lwm2m-base.guard';
import * as i0 from "@angular/core";
import * as i1 from "@c8y/ngx-components";
import * as i2 from "@c8y/ngx-components/protocol-lwm2m/services";
export class Lwm2mBootstrapParametersGuard extends Lwm2mBaseGuard {
    constructor(tenantService, permissions, lwm2mService) {
        super(tenantService);
        this.tenantService = tenantService;
        this.permissions = permissions;
        this.lwm2mService = lwm2mService;
    }
    additionalChecks(route) {
        const contextData = (route?.data).contextData ||
            (route?.parent.data).contextData;
        return (this.lwm2mService.isLwm2mDevice(contextData) &&
            this.permissions.hasRole('ROLE_INVENTORY_READ'));
    }
}
Lwm2mBootstrapParametersGuard.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.7", ngImport: i0, type: Lwm2mBootstrapParametersGuard, deps: [{ token: i1.TenantUiService }, { token: i1.Permissions }, { token: i2.Lwm2mClientService }], target: i0.ɵɵFactoryTarget.Injectable });
Lwm2mBootstrapParametersGuard.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "15.2.7", ngImport: i0, type: Lwm2mBootstrapParametersGuard });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.7", ngImport: i0, type: Lwm2mBootstrapParametersGuard, decorators: [{
            type: Injectable
        }], ctorParameters: function () { return [{ type: i1.TenantUiService }, { type: i1.Permissions }, { type: i2.Lwm2mClientService }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibHdtMm0tYm9vdHN0cmFwLXBhcmFtZXRlcnMuZ3VhcmQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm90b2NvbC1sd20ybS9ndWFyZHMvbHdtMm0tYm9vdHN0cmFwLXBhcmFtZXRlcnMuZ3VhcmQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUUzQyxPQUFPLEVBQUUsZUFBZSxFQUFFLFdBQVcsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ25FLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLDZDQUE2QyxDQUFDO0FBQ2pGLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQzs7OztBQU9wRCxNQUFNLE9BQU8sNkJBQThCLFNBQVEsY0FBYztJQUMvRCxZQUNZLGFBQThCLEVBQ2hDLFdBQXdCLEVBQ3hCLFlBQTBEO1FBRWxFLEtBQUssQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUpYLGtCQUFhLEdBQWIsYUFBYSxDQUFpQjtRQUNoQyxnQkFBVyxHQUFYLFdBQVcsQ0FBYTtRQUN4QixpQkFBWSxHQUFaLFlBQVksQ0FBOEM7SUFHcEUsQ0FBQztJQUVTLGdCQUFnQixDQUFDLEtBQThCO1FBQ3ZELE1BQU0sV0FBVyxHQUNkLENBQUMsS0FBSyxFQUFFLElBQVksQ0FBQSxDQUFDLFdBQWtDO1lBQ3ZELENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxJQUFZLENBQUEsQ0FBQyxXQUFrQyxDQUFDO1FBRWxFLE9BQU8sQ0FDTCxJQUFJLENBQUMsWUFBWSxDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUM7WUFDNUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMscUJBQXFCLENBQUMsQ0FDaEQsQ0FBQztJQUNKLENBQUM7OzBIQWxCVSw2QkFBNkI7OEhBQTdCLDZCQUE2QjsyRkFBN0IsNkJBQTZCO2tCQUR6QyxVQUFVIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQWN0aXZhdGVkUm91dGVTbmFwc2hvdCB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5pbXBvcnQgeyBUZW5hbnRVaVNlcnZpY2UsIFBlcm1pc3Npb25zIH0gZnJvbSAnQGM4eS9uZ3gtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBMd20ybUNsaWVudFNlcnZpY2UgfSBmcm9tICdAYzh5L25neC1jb21wb25lbnRzL3Byb3RvY29sLWx3bTJtL3NlcnZpY2VzJztcbmltcG9ydCB7IEx3bTJtQmFzZUd1YXJkIH0gZnJvbSAnLi9sd20ybS1iYXNlLmd1YXJkJztcbmltcG9ydCB7XG4gIEx3bTJtQm9vdHN0cmFwUGFyYW1ldGVycyxcbiAgTHdtMm1NYW5hZ2VkT2JqZWN0XG59IGZyb20gJ0BjOHkvbmd4LWNvbXBvbmVudHMvcHJvdG9jb2wtbHdtMm0vbW9kZWwnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgTHdtMm1Cb290c3RyYXBQYXJhbWV0ZXJzR3VhcmQgZXh0ZW5kcyBMd20ybUJhc2VHdWFyZCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHByb3RlY3RlZCB0ZW5hbnRTZXJ2aWNlOiBUZW5hbnRVaVNlcnZpY2UsXG4gICAgcHJpdmF0ZSBwZXJtaXNzaW9uczogUGVybWlzc2lvbnMsXG4gICAgcHJpdmF0ZSBsd20ybVNlcnZpY2U6IEx3bTJtQ2xpZW50U2VydmljZTxMd20ybUJvb3RzdHJhcFBhcmFtZXRlcnM+XG4gICkge1xuICAgIHN1cGVyKHRlbmFudFNlcnZpY2UpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGFkZGl0aW9uYWxDaGVja3Mocm91dGU/OiBBY3RpdmF0ZWRSb3V0ZVNuYXBzaG90KTogYm9vbGVhbiB7XG4gICAgY29uc3QgY29udGV4dERhdGEgPVxuICAgICAgKChyb3V0ZT8uZGF0YSBhcyBhbnkpLmNvbnRleHREYXRhIGFzIEx3bTJtTWFuYWdlZE9iamVjdCkgfHxcbiAgICAgICgocm91dGU/LnBhcmVudC5kYXRhIGFzIGFueSkuY29udGV4dERhdGEgYXMgTHdtMm1NYW5hZ2VkT2JqZWN0KTtcblxuICAgIHJldHVybiAoXG4gICAgICB0aGlzLmx3bTJtU2VydmljZS5pc0x3bTJtRGV2aWNlKGNvbnRleHREYXRhKSAmJlxuICAgICAgdGhpcy5wZXJtaXNzaW9ucy5oYXNSb2xlKCdST0xFX0lOVkVOVE9SWV9SRUFEJylcbiAgICApO1xuICB9XG59XG4iXX0=
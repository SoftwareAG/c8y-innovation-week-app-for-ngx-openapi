import { Component } from '@angular/core';
import { AppStateService, C8yStepper, SetupComponent } from '@c8y/ngx-components';
import { map, filter } from 'rxjs/operators';
import * as i0 from "@angular/core";
import * as i1 from "@c8y/ngx-components";
import * as i2 from "@angular/common";
import * as i3 from "@c8y/ngx-components/ecosystem/application-plugins";
export class PluginSetupStepperComponent {
    constructor(appState, stepper, setup) {
        this.appState = appState;
        this.stepper = stepper;
        this.setup = setup;
        this.appId$ = this.appState.currentApplication.pipe(map(app => app?.id), filter(appId => !!appId));
    }
    next() {
        this.setup.stepCompleted(this.stepper.selectedIndex);
        this.stepper.next();
    }
    back() {
        this.stepper.previous();
    }
}
PluginSetupStepperComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.7", ngImport: i0, type: PluginSetupStepperComponent, deps: [{ token: i1.AppStateService }, { token: i1.C8yStepper }, { token: i1.SetupComponent }], target: i0.ɵɵFactoryTarget.Component });
PluginSetupStepperComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.7", type: PluginSetupStepperComponent, selector: "c8y-plugin-setup-stepper", ngImport: i0, template: "<c8y-app-plugins *ngIf=\"appId$ | async as appId\" [appId]=\"appId\"></c8y-app-plugins>\n<div class=\"card-footer separator d-flex j-c-center\">\n  <button\n    class=\"btn btn-default\"\n    type=\"button\"\n    *ngIf=\"stepper.selectedIndex !== 0\"\n    (click)=\"back()\"\n    translate\n  >\n    Previous\n  </button>\n  <button class=\"btn btn-primary\" type=\"submit\" (click)=\"next()\" translate>\n    Continue\n  </button>\n</div>\n", dependencies: [{ kind: "directive", type: i2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i3.ApplicationPluginsComponent, selector: "c8y-app-plugins", inputs: ["appId"] }, { kind: "pipe", type: i2.AsyncPipe, name: "async" }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.7", ngImport: i0, type: PluginSetupStepperComponent, decorators: [{
            type: Component,
            args: [{ selector: 'c8y-plugin-setup-stepper', template: "<c8y-app-plugins *ngIf=\"appId$ | async as appId\" [appId]=\"appId\"></c8y-app-plugins>\n<div class=\"card-footer separator d-flex j-c-center\">\n  <button\n    class=\"btn btn-default\"\n    type=\"button\"\n    *ngIf=\"stepper.selectedIndex !== 0\"\n    (click)=\"back()\"\n    translate\n  >\n    Previous\n  </button>\n  <button class=\"btn btn-primary\" type=\"submit\" (click)=\"next()\" translate>\n    Continue\n  </button>\n</div>\n" }]
        }], ctorParameters: function () { return [{ type: i1.AppStateService }, { type: i1.C8yStepper }, { type: i1.SetupComponent }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGx1Z2luLXNldHVwLXN0ZXBwZXIuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vZWNvc3lzdGVtL3BsdWdpbi1zZXR1cC1zdGVwcGVyL3BsdWdpbi1zZXR1cC1zdGVwcGVyLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uL2Vjb3N5c3RlbS9wbHVnaW4tc2V0dXAtc3RlcHBlci9wbHVnaW4tc2V0dXAtc3RlcHBlci5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzFDLE9BQU8sRUFBRSxlQUFlLEVBQUUsVUFBVSxFQUFFLGNBQWMsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBRWxGLE9BQU8sRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7Ozs7O0FBTTdDLE1BQU0sT0FBTywyQkFBMkI7SUFHdEMsWUFDVSxRQUF5QixFQUMxQixPQUFtQixFQUNsQixLQUFxQjtRQUZyQixhQUFRLEdBQVIsUUFBUSxDQUFpQjtRQUMxQixZQUFPLEdBQVAsT0FBTyxDQUFZO1FBQ2xCLFVBQUssR0FBTCxLQUFLLENBQWdCO1FBRTdCLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQ2pELEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsRUFDbkIsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUN6QixDQUFDO0lBQ0osQ0FBQztJQUVELElBQUk7UUFDRixJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQ3JELElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDdEIsQ0FBQztJQUVELElBQUk7UUFDRixJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQzFCLENBQUM7O3dIQXJCVSwyQkFBMkI7NEdBQTNCLDJCQUEyQixnRUNUeEMsMmJBZUE7MkZETmEsMkJBQTJCO2tCQUp2QyxTQUFTOytCQUNFLDBCQUEwQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQXBwU3RhdGVTZXJ2aWNlLCBDOHlTdGVwcGVyLCBTZXR1cENvbXBvbmVudCB9IGZyb20gJ0BjOHkvbmd4LWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgbWFwLCBmaWx0ZXIgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2M4eS1wbHVnaW4tc2V0dXAtc3RlcHBlcicsXG4gIHRlbXBsYXRlVXJsOiAnLi9wbHVnaW4tc2V0dXAtc3RlcHBlci5jb21wb25lbnQuaHRtbCdcbn0pXG5leHBvcnQgY2xhc3MgUGx1Z2luU2V0dXBTdGVwcGVyQ29tcG9uZW50IHtcbiAgYXBwSWQkOiBPYnNlcnZhYmxlPHN0cmluZyB8IG51bWJlcj47XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBhcHBTdGF0ZTogQXBwU3RhdGVTZXJ2aWNlLFxuICAgIHB1YmxpYyBzdGVwcGVyOiBDOHlTdGVwcGVyLFxuICAgIHByaXZhdGUgc2V0dXA6IFNldHVwQ29tcG9uZW50XG4gICkge1xuICAgIHRoaXMuYXBwSWQkID0gdGhpcy5hcHBTdGF0ZS5jdXJyZW50QXBwbGljYXRpb24ucGlwZShcbiAgICAgIG1hcChhcHAgPT4gYXBwPy5pZCksXG4gICAgICBmaWx0ZXIoYXBwSWQgPT4gISFhcHBJZClcbiAgICApO1xuICB9XG5cbiAgbmV4dCgpIHtcbiAgICB0aGlzLnNldHVwLnN0ZXBDb21wbGV0ZWQodGhpcy5zdGVwcGVyLnNlbGVjdGVkSW5kZXgpO1xuICAgIHRoaXMuc3RlcHBlci5uZXh0KCk7XG4gIH1cblxuICBiYWNrKCkge1xuICAgIHRoaXMuc3RlcHBlci5wcmV2aW91cygpO1xuICB9XG59XG4iLCI8Yzh5LWFwcC1wbHVnaW5zICpuZ0lmPVwiYXBwSWQkIHwgYXN5bmMgYXMgYXBwSWRcIiBbYXBwSWRdPVwiYXBwSWRcIj48L2M4eS1hcHAtcGx1Z2lucz5cbjxkaXYgY2xhc3M9XCJjYXJkLWZvb3RlciBzZXBhcmF0b3IgZC1mbGV4IGotYy1jZW50ZXJcIj5cbiAgPGJ1dHRvblxuICAgIGNsYXNzPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAqbmdJZj1cInN0ZXBwZXIuc2VsZWN0ZWRJbmRleCAhPT0gMFwiXG4gICAgKGNsaWNrKT1cImJhY2soKVwiXG4gICAgdHJhbnNsYXRlXG4gID5cbiAgICBQcmV2aW91c1xuICA8L2J1dHRvbj5cbiAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIHR5cGU9XCJzdWJtaXRcIiAoY2xpY2spPVwibmV4dCgpXCIgdHJhbnNsYXRlPlxuICAgIENvbnRpbnVlXG4gIDwvYnV0dG9uPlxuPC9kaXY+XG4iXX0=
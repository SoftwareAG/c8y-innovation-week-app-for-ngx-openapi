import { Component } from '@angular/core';
import { gettext, NavigatorService } from '@c8y/ngx-components';
import { Router } from '@angular/router';
import * as i0 from "@angular/core";
import * as i1 from "@angular/router";
import * as i2 from "@c8y/ngx-components";
import * as i3 from "@angular/common";
export class WelcomeToDeviceManagementComponent {
    constructor(router, navigator) {
        this.router = router;
        this.navigator = navigator;
        this.quickLinks = [];
        this.isLoading = true;
    }
    async ngOnInit() {
        this.navSubscription = this.navigator.items$.subscribe(nodes => {
            this.navNodes = nodes;
            this.createAllDevicesQuickLink();
            this.createQuicklinkRegisterDevice();
            this.createQuicklinkAddGroup();
            this.createAddDeviceProfileQuickLink();
            this.createAddSoftwareQuickLink();
            this.createAddFirmwareQuickLink();
            this.isLoading = false;
        });
    }
    ngOnDestroy() {
        if (this.navSubscription && !this.navSubscription.closed) {
            this.navSubscription.unsubscribe();
        }
    }
    createAllDevicesQuickLink() {
        this.createQuickLinkToNavNode(['Devices', 'All devices']);
    }
    createQuicklinkRegisterDevice() {
        this.createQuickLinkToNavNode(['Devices', 'Registration'], {
            label: gettext('Register device')
        });
    }
    createQuicklinkAddGroup() {
        this.createQuickLinkToNavNode(['Groups'], {
            label: gettext('Add group'),
            icon: 'c8y-group-add'
        });
    }
    createAddDeviceProfileQuickLink() {
        this.createQuickLinkToNavNode(['Management', 'Device profiles'], {
            label: gettext('Add device profile')
        });
    }
    createAddSoftwareQuickLink() {
        this.createQuickLinkToNavNode(['Management', 'Software repository'], {
            label: gettext('Add software')
        });
    }
    createAddFirmwareQuickLink() {
        this.createQuickLinkToNavNode(['Management', 'Firmware repository'], {
            label: gettext('Add firmware')
        });
    }
    createQuickLinkToNavNode(navNodePathLabels, quickLinkOverrides = {}) {
        const navNode = this.findVisibleNavNode(navNodePathLabels);
        if (!navNode) {
            return;
        }
        const quickLink = {
            icon: navNode.icon,
            label: navNode.label,
            ...quickLinkOverrides,
            click: async () => {
                navNode.parents[0].open = true;
                await this.router.navigateByUrl(navNode.path);
            }
        };
        this.quickLinks.push(quickLink);
    }
    findVisibleNavNode(navNodePathLabels, navNodes = this.navNodes) {
        const currentLabel = navNodePathLabels.shift();
        const navNode = navNodes.find(navNode => !navNode.hidden && navNode.label === currentLabel);
        if (navNode && navNodePathLabels.length > 0) {
            return this.findVisibleNavNode(navNodePathLabels, navNode.children);
        }
        return navNode;
    }
}
WelcomeToDeviceManagementComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.7", ngImport: i0, type: WelcomeToDeviceManagementComponent, deps: [{ token: i1.Router }, { token: i2.NavigatorService }], target: i0.ɵɵFactoryTarget.Component });
WelcomeToDeviceManagementComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.7", type: WelcomeToDeviceManagementComponent, selector: "c8y-welcome-to-devicemanagement", ngImport: i0, template: "<div class=\"welcome-widget\" tabindex=\"0\">\n  <div class=\"p-16 text-center\" *ngIf=\"isLoading\">\n    <c8y-loading></c8y-loading>\n  </div>\n  <div class=\"d-flex fit-h\" *ngIf=\"!isLoading\">\n    <div class=\"col-xs-12 a-s-stretch col-md-12\">\n      <div class=\"card-group interact-grid fit-h\">\n        <div *ngFor=\"let link of quickLinks\" class=\"col-xs-4 no-gutter\">\n          <button\n            class=\"btn-clean card text-pre-normal\"\n            [ngClass]=\"{ 'm-b-0': true }\"\n            type=\"button\"\n            [title]=\"link.label | translate\"\n            (click)=\"link.click ? link.click() : false\"\n            c8yProductExperience\n            [actionName]=\"'welcomeWidgetClicked'\"\n            [actionData]=\"{ link: link.label }\"\n            data-cy=\"devicemanagement-welcome--quick-link\"\n          >\n            <c8y-quick-link [icon]=\"link.icon\" [label]=\"link.label\"></c8y-quick-link>\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n", dependencies: [{ kind: "directive", type: i3.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i3.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i3.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i2.LoadingComponent, selector: "c8y-loading" }, { kind: "directive", type: i2.ProductExperienceDirective, selector: "[c8yProductExperience]", inputs: ["actionName", "actionData", "inherit", "suppressDataOverriding"] }, { kind: "component", type: i2.QuickLinkComponent, selector: "c8y-quick-link", inputs: ["icon", "label"] }, { kind: "pipe", type: i2.C8yTranslatePipe, name: "translate" }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.7", ngImport: i0, type: WelcomeToDeviceManagementComponent, decorators: [{
            type: Component,
            args: [{ selector: 'c8y-welcome-to-devicemanagement', template: "<div class=\"welcome-widget\" tabindex=\"0\">\n  <div class=\"p-16 text-center\" *ngIf=\"isLoading\">\n    <c8y-loading></c8y-loading>\n  </div>\n  <div class=\"d-flex fit-h\" *ngIf=\"!isLoading\">\n    <div class=\"col-xs-12 a-s-stretch col-md-12\">\n      <div class=\"card-group interact-grid fit-h\">\n        <div *ngFor=\"let link of quickLinks\" class=\"col-xs-4 no-gutter\">\n          <button\n            class=\"btn-clean card text-pre-normal\"\n            [ngClass]=\"{ 'm-b-0': true }\"\n            type=\"button\"\n            [title]=\"link.label | translate\"\n            (click)=\"link.click ? link.click() : false\"\n            c8yProductExperience\n            [actionName]=\"'welcomeWidgetClicked'\"\n            [actionData]=\"{ link: link.label }\"\n            data-cy=\"devicemanagement-welcome--quick-link\"\n          >\n            <c8y-quick-link [icon]=\"link.icon\" [label]=\"link.label\"></c8y-quick-link>\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n" }]
        }], ctorParameters: function () { return [{ type: i1.Router }, { type: i2.NavigatorService }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2VsY29tZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi93aWRnZXRzL2ltcGxlbWVudGF0aW9ucy9kZXZpY2UtbWFuYWdlbWVudC13ZWxjb21lL3dlbGNvbWUuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vd2lkZ2V0cy9pbXBsZW1lbnRhdGlvbnMvZGV2aWNlLW1hbmFnZW1lbnQtd2VsY29tZS93ZWxjb21lLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQXFCLE1BQU0sZUFBZSxDQUFDO0FBQzdELE9BQU8sRUFBRSxPQUFPLEVBQVcsZ0JBQWdCLEVBQWlCLE1BQU0scUJBQXFCLENBQUM7QUFDeEYsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLGlCQUFpQixDQUFDOzs7OztBQVF6QyxNQUFNLE9BQU8sa0NBQWtDO0lBTzdDLFlBQW9CLE1BQWMsRUFBVSxTQUEyQjtRQUFuRCxXQUFNLEdBQU4sTUFBTSxDQUFRO1FBQVUsY0FBUyxHQUFULFNBQVMsQ0FBa0I7UUFOdkUsZUFBVSxHQUFnQixFQUFFLENBQUM7UUFDN0IsY0FBUyxHQUFHLElBQUksQ0FBQztJQUt5RCxDQUFDO0lBRTNFLEtBQUssQ0FBQyxRQUFRO1FBQ1osSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEVBQUU7WUFDN0QsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7WUFDdEIsSUFBSSxDQUFDLHlCQUF5QixFQUFFLENBQUM7WUFDakMsSUFBSSxDQUFDLDZCQUE2QixFQUFFLENBQUM7WUFDckMsSUFBSSxDQUFDLHVCQUF1QixFQUFFLENBQUM7WUFDL0IsSUFBSSxDQUFDLCtCQUErQixFQUFFLENBQUM7WUFDdkMsSUFBSSxDQUFDLDBCQUEwQixFQUFFLENBQUM7WUFDbEMsSUFBSSxDQUFD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QUFRLENBQUMsQ0FBQztTQUNyRTtRQUNELE9BQU8sT0FBTyxDQUFDO0lBQ2pCLENBQUM7OytIQS9GVSxrQ0FBa0M7bUhBQWxDLGtDQUFrQyx1RUNWL0MsaWdDQTBCQTsyRkRoQmEsa0NBQWtDO2tCQUo5QyxTQUFTOytCQUNFLGlDQUFpQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBPbkRlc3Ryb3kgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IGdldHRleHQsIERvY0xpbmssIE5hdmlnYXRvclNlcnZpY2UsIE5hdmlnYXRvck5vZGUgfSBmcm9tICdAYzh5L25neC1jb21wb25lbnRzJztcbmltcG9ydCB7IFJvdXRlciB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbnR5cGUgUXVpY2tMaW5rID0gUGljazxEb2NMaW5rLCAnbGFiZWwnIHwgJ2NsaWNrJyB8ICdpY29uJz47XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2M4eS13ZWxjb21lLXRvLWRldmljZW1hbmFnZW1lbnQnLFxuICB0ZW1wbGF0ZVVybDogJy4vd2VsY29tZS5jb21wb25lbnQuaHRtbCdcbn0pXG5leHBvcnQgY2xhc3MgV2VsY29tZVRvRGV2aWNlTWFuYWdlbWVudENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25EZXN0cm95IHtcbiAgcXVpY2tMaW5rczogUXVpY2tMaW5rW10gPSBbXTtcbiAgaXNMb2FkaW5nID0gdHJ1ZTtcblxuICBwcml2YXRlIG5hdk5vZGVzOiBOYXZpZ2F0b3JOb2RlW107XG4gIHByaXZhdGUgbmF2U3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb247XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSByb3V0ZXI6IFJvdXRlciwgcHJpdmF0ZSBuYXZpZ2F0b3I6IE5hdmlnYXRvclNlcnZpY2UpIHt9XG5cbiAgYXN5bmMgbmdPbkluaXQoKSB7XG4gICAgdGhpcy5uYXZTdWJzY3JpcHRpb24gPSB0aGlzLm5hdmlnYXRvci5pdGVtcyQuc3Vic2NyaWJlKG5vZGVzID0+IHtcbiAgICAgIHRoaXMubmF2Tm9kZXMgPSBub2RlcztcbiAgICAgIHRoaXMuY3JlYXRlQWxsRGV2aWNlc1F1aWNrTGluaygpO1xuICAgICAgdGhpcy5jcmVhdGVRdWlja2xpbmtSZWdpc3RlckRldmljZSgpO1xuICAgICAgdGhpcy5jcmVhdGVRdWlja2xpbmtBZGRHcm91cCgpO1xuICAgICAgdGhpcy5jcmVhdGVBZGREZXZpY2VQcm9maWxlUXVpY2tMaW5rKCk7XG4gICAgICB0aGlzLmNyZWF0ZUFkZFNvZnR3YXJlUXVpY2tMaW5rKCk7XG4gICAgICB0aGlzLmNyZWF0ZUFkZEZpcm13YXJlUXVpY2tMaW5rKCk7XG4gICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgIH0pO1xuICB9XG5cbiAgbmdPbkRlc3Ryb3koKSB7XG4gICAgaWYgKHRoaXMubmF2U3Vic2NyaXB0aW9uICYmICF0aGlzLm5hdlN1YnNjcmlwdGlvbi5jbG9zZWQpIHtcbiAgICAgIHRoaXMubmF2U3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVBbGxEZXZpY2VzUXVpY2tMaW5rKCkge1xuICAgIHRoaXMuY3JlYXRlUXVpY2tMaW5rVG9OYXZOb2RlKFsnRGV2aWNlcycsICdBbGwgZGV2aWNlcyddKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlUXVpY2tsaW5rUmVnaXN0ZXJEZXZpY2UoKSB7XG4gICAgdGhpcy5jcmVhdGVRdWlja0xpbmtUb05hdk5vZGUoWydEZXZpY2VzJywgJ1JlZ2lzdHJhdGlvbiddLCB7XG4gICAgICBsYWJlbDogZ2V0dGV4dCgnUmVnaXN0ZXIgZGV2aWNlJylcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlUXVpY2tsaW5rQWRkR3JvdXAoKSB7XG4gICAgdGhpcy5jcmVhdGVRdWlja0xpbmtUb05hdk5vZGUoWydHcm91cHMnXSwge1xuICAgICAgbGFiZWw6IGdldHRleHQoJ0FkZCBncm91cCcpLFxuICAgICAgaWNvbjogJ2M4eS1ncm91cC1hZGQnXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZUFkZERldmljZVByb2ZpbGVRdWlja0xpbmsoKSB7XG4gICAgdGhpcy5jcmVhdGVRdWlja0xpbmtUb05hdk5vZGUoWydNYW5hZ2VtZW50JywgJ0RldmljZSBwcm9maWxlcyddLCB7XG4gICAgICBsYWJlbDogZ2V0dGV4dCgnQWRkIGRldmljZSBwcm9maWxlJylcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlQWRkU29mdHdhcmVRdWlja0xpbmsoKSB7XG4gICAgdGhpcy5jcmVhdGVRdWlja0xpbmtUb05hdk5vZGUoWydNYW5hZ2VtZW50JywgJ1NvZnR3YXJlIHJlcG9zaXRvcnknXSwge1xuICAgICAgbGFiZWw6IGdldHRleHQoJ0FkZCBzb2Z0d2FyZScpXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZUFkZEZpcm13YXJlUXVpY2tMaW5rKCkge1xuICAgIHRoaXMuY3JlYXRlUXVpY2tMaW5rVG9OYXZOb2RlKFsnTWFuYWdlbWVudCcsICdGaXJtd2FyZSByZXBvc2l0b3J5J10sIHtcbiAgICAgIGxhYmVsOiBnZXR0ZXh0KCdBZGQgZmlybXdhcmUnKVxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVRdWlja0xpbmtUb05hdk5vZGUoXG4gICAgbmF2Tm9kZVBhdGhMYWJlbHM6IHN0cmluZ1tdLFxuICAgIHF1aWNrTGlua092ZXJyaWRlczogUGFydGlhbDxEb2NMaW5rPiA9IHt9XG4gICkge1xuICAgIGNvbnN0IG5hdk5vZGUgPSB0aGlzLmZpbmRWaXNpYmxlTmF2Tm9kZShuYXZOb2RlUGF0aExhYmVscyk7XG5cbiAgICBpZiAoIW5hdk5vZGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBxdWlja0xpbmsgPSB7XG4gICAgICBpY29uOiBuYXZOb2RlLmljb24sXG4gICAgICBsYWJlbDogbmF2Tm9kZS5sYWJlbCxcbiAgICAgIC4uLnF1aWNrTGlua092ZXJyaWRlcyxcbiAgICAgIGNsaWNrOiBhc3luYyAoKSA9PiB7XG4gICAgICAgIG5hdk5vZGUucGFyZW50c1swXS5vcGVuID0gdHJ1ZTtcbiAgICAgICAgYXdhaXQgdGhpcy5yb3V0ZXIubmF2aWdhdGVCeVVybChuYXZOb2RlLnBhdGgpO1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5xdWlja0xpbmtzLnB1c2gocXVpY2tMaW5rKTtcbiAgfVxuXG4gIHByaXZhdGUgZmluZFZpc2libGVOYXZOb2RlKFxuICAgIG5hdk5vZGVQYXRoTGFiZWxzOiBzdHJpbmdbXSxcbiAgICBuYXZOb2RlczogTmF2aWdhdG9yTm9kZVtdID0gdGhpcy5uYXZOb2Rlc1xuICApOiBOYXZpZ2F0b3JOb2RlIHtcbiAgICBjb25zdCBjdXJyZW50TGFiZWwgPSBuYXZOb2RlUGF0aExhYmVscy5zaGlmdCgpO1xuICAgIGNvbnN0IG5hdk5vZGUgPSBuYXZOb2Rlcy5maW5kKG5hdk5vZGUgPT4gIW5hdk5vZGUuaGlkZGVuICYmIG5hdk5vZGUubGFiZWwgPT09IGN1cnJlbnRMYWJlbCk7XG4gICAgaWYgKG5hdk5vZGUgJiYgbmF2Tm9kZVBhdGhMYWJlbHMubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIHRoaXMuZmluZFZpc2libGVOYXZOb2RlKG5hdk5vZGVQYXRoTGFiZWxzLCBuYXZOb2RlLmNoaWxkcmVuKTtcbiAgICB9XG4gICAgcmV0dXJuIG5hdk5vZGU7XG4gIH1cbn1cbiIsIjxkaXYgY2xhc3M9XCJ3ZWxjb21lLXdpZGdldFwiIHRhYmluZGV4PVwiMFwiPlxuICA8ZGl2IGNsYXNzPVwicC0xNiB0ZXh0LWNlbnRlclwiICpuZ0lmPVwiaXNMb2FkaW5nXCI+XG4gICAgPGM4eS1sb2FkaW5nPjwvYzh5LWxvYWRpbmc+XG4gIDwvZGl2PlxuICA8ZGl2IGNsYXNzPVwiZC1mbGV4IGZpdC1oXCIgKm5nSWY9XCIhaXNMb2FkaW5nXCI+XG4gICAgPGRpdiBjbGFzcz1cImNvbC14cy0xMiBhLXMtc3RyZXRjaCBjb2wtbWQtMTJcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLWdyb3VwIGludGVyYWN0LWdyaWQgZml0LWhcIj5cbiAgICAgICAgPGRpdiAqbmdGb3I9XCJsZXQgbGluayBvZiBxdWlja0xpbmtzXCIgY2xhc3M9XCJjb2wteHMtNCBuby1ndXR0ZXJcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzcz1cImJ0bi1jbGVhbiBjYXJkIHRleHQtcHJlLW5vcm1hbFwiXG4gICAgICAgICAgICBbbmdDbGFzc109XCJ7ICdtLWItMCc6IHRydWUgfVwiXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIFt0aXRsZV09XCJsaW5rLmxhYmVsIHwgdHJhbnNsYXRlXCJcbiAgICAgICAgICAgIChjbGljayk9XCJsaW5rLmNsaWNrID8gbGluay5jbGljaygpIDogZmFsc2VcIlxuICAgICAgICAgICAgYzh5UHJvZHVjdEV4cGVyaWVuY2VcbiAgICAgICAgICAgIFthY3Rpb25OYW1lXT1cIid3ZWxjb21lV2lkZ2V0Q2xpY2tlZCdcIlxuICAgICAgICAgICAgW2FjdGlvbkRhdGFdPVwieyBsaW5rOiBsaW5rLmxhYmVsIH1cIlxuICAgICAgICAgICAgZGF0YS1jeT1cImRldmljZW1hbmFnZW1lbnQtd2VsY29tZS0tcXVpY2stbGlua1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGM4eS1xdWljay1saW5rIFtpY29uXT1cImxpbmsuaWNvblwiIFtsYWJlbF09XCJsaW5rLmxhYmVsXCI+PC9jOHktcXVpY2stbGluaz5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L2Rpdj5cbiJdfQ==
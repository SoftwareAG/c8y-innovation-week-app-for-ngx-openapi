import { NgModule } from '@angular/core';
import { gettext, hookPatternMessages, ProviderConfigurationModule } from '@c8y/ngx-components';
import { get } from 'lodash-es';
import { MESSAGES } from './pattern-messages.data';
import { SimGuard } from './sim.guard';
import * as i0 from "@angular/core";
import * as i1 from "@c8y/ngx-components";
export async function encodeFiles(model, fields) {
    const result = { ...model };
    const fileFields = (get(fields, '[0].fieldGroup') || []).filter((field) => {
        return field.type === 'file' && field.templateOptions.contentEncoding === 'base64';
    });
    for (const fileField of fileFields) {
        const files = model[fileField.key];
        if (files && Array.isArray(files) && files.length) {
            if (fileField.templateOptions.maxAllowedFiles === 1) {
                result[fileField.key] = (await files[0].readAsDataURL()).replace(/data:\S+;base64,/gi, '');
            }
            else {
                const encodedFileContent = [];
                for (const file of files) {
                    encodedFileContent.push((await file.readAsDataURL()).replace(/data:\S+;base64,/gi, ''));
                }
                result[fileField.key] = encodedFileContent;
            }
        }
        else if (typeof files === 'string' || files instanceof String) {
            result[fileField.key] = files;
        }
    }
    return result;
}
export class SimModule {
}
SimModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.7", ngImport: i0, type: SimModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });
SimModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: "14.0.0", version: "15.2.7", ngImport: i0, type: SimModule, imports: [i1.ProviderConfigurationModule] });
SimModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: "12.0.0", version: "15.2.7", ngImport: i0, type: SimModule, providers: [SimGuard, hookPatternMessages(MESSAGES)], imports: [ProviderConfigurationModule.config([
            {
                navigation: {
                    label: gettext('Connectivity'),
                    path: 'connectivitySettings',
                    icon: 'plug',
                    parent: gettext('Settings'),
                    priority: 1000,
                    preventDuplicates: true
                },
                tab: {
                    path: 'sim_provider_settings',
                    label: 'SIM provider settings',
                    icon: 'mobile',
                    canActivate: [SimGuard]
                },
                layout: {
                    pageTitle: gettext('Connectivity'),
                    cardTitle: gettext('Settings'),
                    description: gettext(`In order to see the 'Connectivity' tab in device details, the user needs to have 'Read' permission for 'Connectivity'. To change SIM card status and send text messages, the user needs to have 'Admin' permission for 'Connectivity'.`),
                    providerName: gettext('Provider'),
                    providerNamePlaceholder: gettext('Select or type to filter providers'),
                    providerNameNoMatchesHint: gettext('Select one of the existing providers.'),
                    deleteRoles: ['ROLE_CONNECTIVITY_ADMIN'],
                    deleteBtnLabel: gettext('Delete'),
                    saveRoles: ['ROLE_CONNECTIVITY_ADMIN'],
                    saveBtnLabel: gettext('Save'),
                    beforeSaveHook: encodeFiles,
                    configurationUpdatedSuccessMsg: gettext('Settings updated.'),
                    deleteConfigurationModalTitle: gettext('Delete settings'),
                    deleteConfigurationModalBody: gettext(`You are about to delete SIM provider settings. Do you want to proceed?`),
                    deleteConfigurationModalOkBtnLabel: gettext('Delete'),
                    configurationDeletedSuccessMsg: gettext('Settings deleted.')
                },
                endpoint: {
                    definitionsEndpoint: {
                        baseUrl: 'service/connectivity/metadata',
                        listUrl: 'definitions'
                    },
                    configurationEndpoint: {
                        baseUrl: 'service/connectivity/metadata',
                        listUrl: 'sim/provider'
                    }
                }
            }
        ])] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.7", ngImport: i0, type: SimModule, decorators: [{
            type: NgModule,
            args: [{
                    providers: [SimGuard, hookPatternMessages(MESSAGES)],
                    imports: [
                        ProviderConfigurationModule.config([
                            {
                                navigation: {
                                    label: gettext('Connectivity'),
                                    path: 'connectivitySettings',
                                    icon: 'plug',
                                    parent: gettext('Settings'),
                                    priority: 1000,
                                    preventDuplicates: true
                                },
                                tab: {
                                    path: 'sim_provider_settings',
                                    label: 'SIM provider settings',
                                    icon: 'mobile',
                                    canActivate: [SimGuard]
                                },
                                layout: {
                                    pageTitle: gettext('Connectivity'),
                                    cardTitle: gettext('Settings'),
                                    description: gettext(`In order to see the 'Connectivity' tab in device details, the user needs to have 'Read' permission for 'Connectivity'. To change SIM card status and send text messages, the user needs to have 'Admin' permission for 'Connectivity'.`),
                                    providerName: gettext('Provider'),
                                    providerNamePlaceholder: gettext('Select or type to filter providers'),
                                    providerNameNoMatchesHint: gettext('Select one of the existing providers.'),
                                    deleteRoles: ['ROLE_CONNECTIVITY_ADMIN'],
                                    deleteBtnLabel: gettext('Delete'),
                                    saveRoles: ['ROLE_CONNECTIVITY_ADMIN'],
                                    saveBtnLabel: gettext('Save'),
                                    beforeSaveHook: encodeFiles,
                                    configurationUpdatedSuccessMsg: gettext('Settings updated.'),
                                    deleteConfigurationModalTitle: gettext('Delete settings'),
                                    deleteConfigurationModalBody: gettext(`You are about to delete SIM provider settings. Do you want to proceed?`),
                                    deleteConfigurationModalOkBtnLabel: gettext('Delete'),
                                    configurationDeletedSuccessMsg: gettext('Settings deleted.')
                                },
                                endpoint: {
                                    definitionsEndpoint: {
                                        baseUrl: 'service/connectivity/metadata',
                                        listUrl: 'definitions'
                                    },
                                    configurationEndpoint: {
                                        baseUrl: 'service/connectivity/metadata',
                                        listUrl: 'sim/provider'
                                    }
                                }
                            }
                        ])
                    ]
                }]
        }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2ltLm1vZHVsZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2Nvbm5lY3Rpdml0eS9zaW0vc2ltLm1vZHVsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3pDLE9BQU8sRUFFTCxPQUFPLEVBQ1AsbUJBQW1CLEVBQ25CLDJCQUEyQixFQUU1QixNQUFNLHFCQUFxQixDQUFDO0FBRTdCLE9BQU8sRUFBRSxHQUFHLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFDaEMsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQ25ELE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxhQUFhLENBQUM7OztBQUV2QyxNQUFNLENBQUMsS0FBSyxVQUFVLFdBQVcsQ0FDL0IsS0FBeUIsRUFDekIsTUFBMkI7SUFFM0IsTUFBTSxNQUFNLEdBQXVCLEVBQUUsR0FBRyxLQUFLLEVBQUUsQ0FBQztJQUNoRCxNQUFNLFVBQVUsR0FBd0IsQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLGdCQUFnQixDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsTUFBTSxDQUNsRixDQUFDLEtBQXdCLEVBQUUsRUFBRTtRQUMzQixPQUFPLEtBQUssQ0FBQyxJQUFJLEtBQUssTUFBTSxJQUFJLEtBQUssQ0FBQyxlQUFlLENBQUMsZUFBZSxLQUFLLFFBQVEsQ0FBQztJQUNyRixDQUFDLENBQ0YsQ0FBQztJQUVGLEtBQUssTUFBTSxTQUFTLElBQUksVUFBVSxFQUFFO1FBQ2xDLE1BQU0sS0FBSyxHQUFrQixLQUFLLENBQUMsU0FBUyxDQUFDLEdBQWEsQ0FBQyxDQUFDO1FBQzVELElBQUksS0FBSyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksS0FBSyxDQUFDLE1BQU0sRUFBRTtZQUNqRCxJQUFJLFNBQVMsQ0FBQyxlQUFlLENBQUMsZUFBZSxLQUFLLENBQUMsRUFB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Q0FDNUQsNkJBQTZCLEVBQUUsT0FBTyxDQUFDLGlCQUFpQixDQUFDO29DQUN6RCw0QkFBNEIsRUFBRSxPQUFPLENBQ25DLHdFQUF3RSxDQUN6RTtvQ0FDRCxrQ0FBa0MsRUFBRSxPQUFPLENBQUMsUUFBUSxDQUFDO29DQUNyRCw4QkFBOEIsRUFBRSxPQUFPLENBQUMsbUJBQW1CLENBQUM7aUNBQzdEO2dDQUNELFFBQVEsRUFBRTtvQ0FDUixtQkFBbUIsRUFBRTt3Q0FDbkIsT0FBTyxFQUFFLCtCQUErQjt3Q0FDeEMsT0FBTyxFQUFFLGFBQWE7cUNBQ3ZCO29DQUNELHFCQUFxQixFQUFFO3dDQUNyQixPQUFPLEVBQUUsK0JBQStCO3dDQUN4QyxPQUFPLEVBQUUsY0FBYztxQ0FDeEI7aUNBQ0Y7NkJBQ0Y7eUJBQ0YsQ0FBQztxQkFDSDtpQkFDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1xuICBEcm9wcGVkRmlsZSxcbiAgZ2V0dGV4dCxcbiAgaG9va1BhdHRlcm5NZXNzYWdlcyxcbiAgUHJvdmlkZXJDb25maWd1cmF0aW9uTW9kdWxlLFxuICBQcm92aWRlclByb3BlcnRpZXNcbn0gZnJvbSAnQGM4eS9uZ3gtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBGb3JtbHlGaWVsZENvbmZpZyB9IGZyb20gJ0BuZ3gtZm9ybWx5L2NvcmUnO1xuaW1wb3J0IHsgZ2V0IH0gZnJvbSAnbG9kYXNoLWVzJztcbmltcG9ydCB7IE1FU1NBR0VTIH0gZnJvbSAnLi9wYXR0ZXJuLW1lc3NhZ2VzLmRhdGEnO1xuaW1wb3J0IHsgU2ltR3VhcmQgfSBmcm9tICcuL3NpbS5ndWFyZCc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBlbmNvZGVGaWxlcyhcbiAgbW9kZWw6IFByb3ZpZGVyUHJvcGVydGllcyxcbiAgZmllbGRzOiBGb3JtbHlGaWVsZENvbmZpZ1tdXG4pOiBQcm9taXNlPFByb3ZpZGVyUHJvcGVydGllcz4ge1xuICBjb25zdCByZXN1bHQ6IFByb3ZpZGVyUHJvcGVydGllcyA9IHsgLi4ubW9kZWwgfTtcbiAgY29uc3QgZmlsZUZpZWxkczogRm9ybWx5RmllbGRDb25maWdbXSA9IChnZXQoZmllbGRzLCAnWzBdLmZpZWxkR3JvdXAnKSB8fCBbXSkuZmlsdGVyKFxuICAgIChmaWVsZDogRm9ybWx5RmllbGRDb25maWcpID0+IHtcbiAgICAgIHJldHVybiBmaWVsZC50eXBlID09PSAnZmlsZScgJiYgZmllbGQudGVtcGxhdGVPcHRpb25zLmNvbnRlbnRFbmNvZGluZyA9PT0gJ2Jhc2U2NCc7XG4gICAgfVxuICApO1xuXG4gIGZvciAoY29uc3QgZmlsZUZpZWxkIG9mIGZpbGVGaWVsZHMpIHtcbiAgICBjb25zdCBmaWxlczogRHJvcHBlZEZpbGVbXSA9IG1vZGVsW2ZpbGVGaWVsZC5rZXkgYXMgc3RyaW5nXTtcbiAgICBpZiAoZmlsZXMgJiYgQXJyYXkuaXNBcnJheShmaWxlcykgJiYgZmlsZXMubGVuZ3RoKSB7XG4gICAgICBpZiAoZmlsZUZpZWxkLnRlbXBsYXRlT3B0aW9ucy5tYXhBbGxvd2VkRmlsZXMgPT09IDEpIHtcbiAgICAgICAgcmVzdWx0W2ZpbGVGaWVsZC5rZXkgYXMgc3RyaW5nXSA9IChhd2FpdCBmaWxlc1swXS5yZWFkQXNEYXRhVVJMKCkpLnJlcGxhY2UoXG4gICAgICAgICAgL2RhdGE6XFxTKztiYXNlNjQsL2dpLFxuICAgICAgICAgICcnXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBlbmNvZGVkRmlsZUNvbnRlbnQ6IHN0cmluZ1tdID0gW107XG5cbiAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIGZpbGVzKSB7XG4gICAgICAgICAgZW5jb2RlZEZpbGVDb250ZW50LnB1c2goKGF3YWl0IGZpbGUucmVhZEFzRGF0YVVSTCgpKS5yZXBsYWNlKC9kYXRhOlxcUys7YmFzZTY0LC9naSwgJycpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlc3VsdFtmaWxlRmllbGQua2V5IGFzIHN0cmluZ10gPSBlbmNvZGVkRmlsZUNvbnRlbnQ7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZmlsZXMgPT09ICdzdHJpbmcnIHx8IGZpbGVzIGluc3RhbmNlb2YgU3RyaW5nKSB7XG4gICAgICByZXN1bHRbZmlsZUZpZWxkLmtleSBhcyBzdHJpbmddID0gZmlsZXM7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbkBOZ01vZHVsZSh7XG4gIHByb3ZpZGVyczogW1NpbUd1YXJkLCBob29rUGF0dGVybk1lc3NhZ2VzKE1FU1NBR0VTKV0sXG4gIGltcG9ydHM6IFtcbiAgICBQcm92aWRlckNvbmZpZ3VyYXRpb25Nb2R1bGUuY29uZmlnKFtcbiAgICAgIHtcbiAgICAgICAgbmF2aWdhdGlvbjoge1xuICAgICAgICAgIGxhYmVsOiBnZXR0ZXh0KCdDb25uZWN0aXZpdHknKSxcbiAgICAgICAgICBwYXRoOiAnY29ubmVjdGl2aXR5U2V0dGluZ3MnLFxuICAgICAgICAgIGljb246ICdwbHVnJyxcbiAgICAgICAgICBwYXJlbnQ6IGdldHRleHQoJ1NldHRpbmdzJyksXG4gICAgICAgICAgcHJpb3JpdHk6IDEwMDAsXG4gICAgICAgICAgcHJldmVudER1cGxpY2F0ZXM6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgdGFiOiB7XG4gICAgICAgICAgcGF0aDogJ3NpbV9wcm92aWRlcl9zZXR0aW5ncycsXG4gICAgICAgICAgbGFiZWw6ICdTSU0gcHJvdmlkZXIgc2V0dGluZ3MnLFxuICAgICAgICAgIGljb246ICdtb2JpbGUnLFxuICAgICAgICAgIGNhbkFjdGl2YXRlOiBbU2ltR3VhcmRdXG4gICAgICAgIH0sXG4gICAgICAgIGxheW91dDoge1xuICAgICAgICAgIHBhZ2VUaXRsZTogZ2V0dGV4dCgnQ29ubmVjdGl2aXR5JyksXG4gICAgICAgICAgY2FyZFRpdGxlOiBnZXR0ZXh0KCdTZXR0aW5ncycpLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBnZXR0ZXh0KFxuICAgICAgICAgICAgYEluIG9yZGVyIHRvIHNlZSB0aGUgJ0Nvbm5lY3Rpdml0eScgdGFiIGluIGRldmljZSBkZXRhaWxzLCB0aGUgdXNlciBuZWVkcyB0byBoYXZlICdSZWFkJyBwZXJtaXNzaW9uIGZvciAnQ29ubmVjdGl2aXR5Jy4gVG8gY2hhbmdlIFNJTSBjYXJkIHN0YXR1cyBhbmQgc2VuZCB0ZXh0IG1lc3NhZ2VzLCB0aGUgdXNlciBuZWVkcyB0byBoYXZlICdBZG1pbicgcGVybWlzc2lvbiBmb3IgJ0Nvbm5lY3Rpdml0eScuYFxuICAgICAgICAgICksXG4gICAgICAgICAgcHJvdmlkZXJOYW1lOiBnZXR0ZXh0KCdQcm92aWRlcicpLFxuICAgICAgICAgIHByb3ZpZGVyTmFtZVBsYWNlaG9sZGVyOiBnZXR0ZXh0KCdTZWxlY3Qgb3IgdHlwZSB0byBmaWx0ZXIgcHJvdmlkZXJzJyksXG4gICAgICAgICAgcHJvdmlkZXJOYW1lTm9NYXRjaGVzSGludDogZ2V0dGV4dCgnU2VsZWN0IG9uZSBvZiB0aGUgZXhpc3RpbmcgcHJvdmlkZXJzLicpLFxuICAgICAgICAgIGRlbGV0ZVJvbGVzOiBbJ1JPTEVfQ09OTkVDVElWSVRZX0FETUlOJ10sXG4gICAgICAgICAgZGVsZXRlQnRuTGFiZWw6IGdldHRleHQoJ0RlbGV0ZScpLFxuICAgICAgICAgIHNhdmVSb2xlczogWydST0xFX0NPTk5FQ1RJVklUWV9BRE1JTiddLFxuICAgICAgICAgIHNhdmVCdG5MYWJlbDogZ2V0dGV4dCgnU2F2ZScpLFxuICAgICAgICAgIGJlZm9yZVNhdmVIb29rOiBlbmNvZGVGaWxlcyxcbiAgICAgICAgICBjb25maWd1cmF0aW9uVXBkYXRlZFN1Y2Nlc3NNc2c6IGdldHRleHQoJ1NldHRpbmdzIHVwZGF0ZWQuJyksXG4gICAgICAgICAgZGVsZXRlQ29uZmlndXJhdGlvbk1vZGFsVGl0bGU6IGdldHRleHQoJ0RlbGV0ZSBzZXR0aW5ncycpLFxuICAgICAgICAgIGRlbGV0ZUNvbmZpZ3VyYXRpb25Nb2RhbEJvZHk6IGdldHRleHQoXG4gICAgICAgICAgICBgWW91IGFyZSBhYm91dCB0byBkZWxldGUgU0lNIHByb3ZpZGVyIHNldHRpbmdzLiBEbyB5b3Ugd2FudCB0byBwcm9jZWVkP2BcbiAgICAgICAgICApLFxuICAgICAgICAgIGRlbGV0ZUNvbmZpZ3VyYXRpb25Nb2RhbE9rQnRuTGFiZWw6IGdldHRleHQoJ0RlbGV0ZScpLFxuICAgICAgICAgIGNvbmZpZ3VyYXRpb25EZWxldGVkU3VjY2Vzc01zZzogZ2V0dGV4dCgnU2V0dGluZ3MgZGVsZXRlZC4nKVxuICAgICAgICB9LFxuICAgICAgICBlbmRwb2ludDoge1xuICAgICAgICAgIGRlZmluaXRpb25zRW5kcG9pbnQ6IHtcbiAgICAgICAgICAgIGJhc2VVcmw6ICdzZXJ2aWNlL2Nvbm5lY3Rpdml0eS9tZXRhZGF0YScsXG4gICAgICAgICAgICBsaXN0VXJsOiAnZGVmaW5pdGlvbnMnXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjb25maWd1cmF0aW9uRW5kcG9pbnQ6IHtcbiAgICAgICAgICAgIGJhc2VVcmw6ICdzZXJ2aWNlL2Nvbm5lY3Rpdml0eS9tZXRhZGF0YScsXG4gICAgICAgICAgICBsaXN0VXJsOiAnc2ltL3Byb3ZpZGVyJ1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIF0pXG4gIF1cbn0pXG5leHBvcnQgY2xhc3MgU2ltTW9kdWxlIHt9XG4iXX0=